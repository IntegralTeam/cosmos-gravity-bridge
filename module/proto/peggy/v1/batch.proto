syntax = "proto3";
package peggy.v1;

// import "gogoproto/gogo.proto";
import "peggy/v1/attestation.proto";
import "peggy/v1/pool.proto";
import "peggy/v1/types.proto";

option go_package = "github.com/althea-net/peggy/module/x/peggy/types";

// OutgoingTxBatch represents a batch of transactions going from Peggy to ETH
message OutgoingTxBatch {
  // The nonce of...?
  uint64                      nonce               = 1;

  // The individual operation of the transaction batch
  repeated OutgoingTransferTx elements            = 2;

  // The fee to be paid on ETH for the transaction
  ERC20Token                  erc20_fee           = 4;

  // The peggy side representation of the ERC20 token
  BridgedDenominator          bridged_denominator = 5;

  // The validator set on Peggy that will sign the transactions
  Valset                      valset              = 7;

  // The token contract on ETH were...?
  string                      token_contract      = 8;
}


// OutgoingTransferTx represents an individual send from Peggy to ETH
message OutgoingTransferTx {
  // The nonce on the peggy side for this individual transfer
  uint64     id           = 1;

  // The peggy address of the sender of this transaction
  string     sender       = 2;

  // The address on ETH where the transfer is bound
  string     dest_address = 3;

  // The ERC20 token amount to be sent back to ETH
  ERC20Token erc20_token  = 4; 

  // The ERC20 fee paid to the bridge
  ERC20Token erc20_fee    = 5;
}
